!function(t){function e(e){for(var o,i,l=e[0],r=e[1],c=e[2],f=0,d=[];f<l.length;f++)i=l[f],a[i]&&d.push(a[i][0]),a[i]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);for(u&&u(e);d.length;)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,l=1;l<n.length;l++){var r=n[l];0!==a[r]&&(o=!1)}o&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},a={5:0},s=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=r;s.push([14,0]),n()}({14:function(t,e,n){"use strict";n.r(e),function(t){n(2);var e=n(1);t(document).ready(function(){!function(){let n={columns:[],activeObject:null,key:t("#js-template_keys").html(),exhibition:{name:"exhibition",li:t("#js-template_exhibition").html(),class:".js-column_exhibition"},artwork:{name:"artwork",li:t("#js-template_artwork").html(),class:".js-column_artwork"},park:{name:"park",li:t("#js-template_park").html(),class:".js-column_park"},artist:{name:"artist",li:t("#js-template_artist").html(),class:".js-column_artist"},org:{name:"org",li:t("#js-template_org").html(),class:".js-column_org"}},o={init:function(){a.init()},sendFile:function(e){this.postFile(t(e),t(e).attr("action")).done(function(e){if(console.log(e),0==e.success)console.log("Form Error(s)!"),console.dir(e),o.iterateErrors(e);else if(1==e.success){n.columns=e.data;for(const o of e.data)console.log("COLUMN: "+o),n.key=t(n.key).append(t("<option></option>").attr("value",o).text(o));console.log(n.columns),o.buildUL(),a.toggleVisible(t("#js-import_data")),t("#file_file").clone().attr("id","data_file").addClass("d-none").appendTo("#js-import_data_ul")}else console.log("Don't know what to do!"),console.dir(e)})},sendData:function(e){this.postFile(t(e),t(e).attr("action")).done(function(t){console.log(t),0==t.success?(console.log("Form Error(s)!"),console.dir(t),o.iterateErrors(t)):1==t.success?n.columns=t.data:(console.log("Don't know what to do!"),console.dir(t))})},buildUL:function(){n.columns.forEach(function(e){t("#js-data_ul").append('<li class="[ row mb-3 align-items-baseline justify-content-center ]">                <div class="js-key">'+t(n.key)[0].outerHTML+'</div>                <div class="[ px-3 ]">                  <i class="fas fa-arrow-right c-blue--l"></i>                </div>                <div class="js-value"></div>              </li>')}),o.appendNameList(".js-column_key")},appendNameList:function(e){t(e).each(function(e){t(this).attr("name",t(this).attr("name")+"-"+(e+1))})},changeObject:function(e){n.activeObject=n[e],console.log(n.activeObject),t(".js-value").each(function(){t(this).html(n.activeObject.li)}),o.appendNameList(n.activeObject.class)},postFile:function(e,n){console.log("Post route: "+n);let o=new FormData(t(e)[0]);return console.log(o),t.ajax({type:"POST",url:n,processData:!1,contentType:!1,data:o})},postData:function(t,e){},iterateErrors:function(t){for(const n in t.data)console.log("ERROR ITEM: "+n),e.a.addErrors(n+": "+t.data[n])},notifyDataErrors:function(t){},notifyDataSuccess:function(t){e.a.addSuccess(t)}},a={init:function(){this.sendFile(),this.sendData(),this.changeObject()},sendFile:function(){t("#js-post_file").on("click",function(e){e.preventDefault(),o.sendFile(t("#js-form_import_file"))})},sendData:function(){t("#js-post_data").on("click",function(e){e.preventDefault(),o.sendData(t("#js-form_import_data"))})},changeObject:function(){t("#class_object").change(function(e){let n=a.getVal();n&&(t("#js-data_ul").addClass("d-none"),o.changeObject(n),t("#js-data_ul").removeClass("d-none"))})},getVal:function(){return t("#class_object").val()},toggleVisible:function(e){t(e).toggleClass("d-none")}};o.init()}()})}.call(this,n(2))}});
//# sourceMappingURL=import.bundle.js.map